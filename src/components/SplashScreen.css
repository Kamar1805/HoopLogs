
/* Base layout */
.splash-screen {
  position: fixed;
  inset: 0;
  background: radial-gradient(circle at 50% 40%, #ffffff 0%, #f0f4f9 70%);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 18px;
  font-family: system-ui, sans-serif;
  z-index: 2000;
  overflow: hidden;
}

.splash-screen.fade-out {
  animation: splashFade 1.8s ease forwards;
}

@keyframes splashFade {
  to {
    opacity: 0;
    visibility: hidden;
  }
}

/* Animation wrapper */
.splash-anim-wrapper {
  position: relative;
  width: 160px;
  height: 150px;
  display: flex;
  align-items: flex-end;
  justify-content: center;
}

/* Ball + bounce */
.ball {
  font-size: 58px;
  line-height: 1;
  animation: bounce 1.1s cubic-bezier(.55,.06,.68,.19) infinite;
  filter: drop-shadow(0 6px 8px rgba(0,0,0,0.25));
  user-select: none;
}

@keyframes bounce {
  0%   { transform: translateY(0) scale(1); }
  15%  { transform: translateY(-80px) scale(.98); }
  30%  { transform: translateY(-10px) scale(1.02); }
  45%  { transform: translateY(-55px) scale(.99); }
  60%  { transform: translateY(-5px)  scale(1.01); }
  75%  { transform: translateY(-25px) scale(.995); }
  90%,100% { transform: translateY(0) scale(1); }
}

/* Shadow under ball */
.ball-shadow {
  position: absolute;
  bottom: 8px;
  width: 90px;
  height: 22px;
  background: radial-gradient(ellipse at center, rgba(0,0,0,0.35), rgba(0,0,0,0));
  animation: shadowPulse 1.1s linear infinite;
  border-radius: 50%;
  filter: blur(2px);
}

@keyframes shadowPulse {
  0%   { transform: scale(1);     opacity: .55; }
  15%  { transform: scale(.65);   opacity: .35; }
  30%  { transform: scale(.95);   opacity: .5; }
  45%  { transform: scale(.7);    opacity: .38; }
  60%  { transform: scale(.92);   opacity: .48; }
  75%  { transform: scale(.78);   opacity: .42; }
  100% { transform: scale(1);     opacity: .55; }
}

/* Note + pencil motion */
.note-wrapper {
  position: absolute;
  right: 4px;
  top: 10px;
  width: 70px;
  height: 70px;
  animation: floatNote 3s ease-in-out infinite;
  display: flex;
  align-items: center;
  justify-content: center;
}

@keyframes floatNote {
  0%,100% { transform: translateY(0); }
  50%     { transform: translateY(-10px); }
}

.note-sheet {
  position: relative;
  width: 48px;
  height: 56px;
  background: linear-gradient(#fff,#f2f6fb);
  border: 2px solid #d5e2ef;
  border-radius: 6px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.08);
  overflow: hidden;
}

.note-line,
.note-line.short {
  height: 4px;
  background: linear-gradient(90deg,#6A89A7,#9bb7cc);
  border-radius: 2px;
  margin: 8px 8px 0;
  animation: write 2.4s ease-in-out infinite;
  transform-origin: left;
}

.note-line.short {
  width: 60%;
  animation-delay: .4s;
}

.note-line {
  width: 80%;
}

@keyframes write {
  0%   { transform: scaleX(0); opacity: 0; }
  15%  { transform: scaleX(1); opacity: 1; }
  70%  { opacity: 1; }
  100% { opacity: 0; }
}

/* Pencil */
.pencil {
  position: absolute;
  width: 14px;
  height: 50px;
  background: linear-gradient(90deg,#FFB347,#FF9F1C);
  border-radius: 6px 6px 2px 2px;
  left: -4px;
  top: 8px;
  transform-origin: top left;
  animation: pencilWrite 2.4s ease-in-out infinite;
  box-shadow: 0 2px 4px rgba(0,0,0,0.15);
}

.pencil:before {
  content: "";
  position: absolute;
  top: -8px;
  left: 0;
  width: 14px;
  height: 10px;
  background: #ffe5c2;
  clip-path: polygon(0 100%,50% 0,100% 100%);
}

.pencil:after {
  content: "";
  position: absolute;
  bottom: -4px;
  left: 0;
  width: 14px;
  height: 6px;
  background: #222;
  border-radius: 2px;
}

@keyframes pencilWrite {
  0%   { transform: translate(8px,6px) rotate(-18deg); opacity: 0; }
  10%  { opacity: 1; }
  25%  { transform: translate(16px,2px) rotate(-6deg); }
  40%  { transform: translate(10px,12px) rotate(-14deg); }
  55%  { transform: translate(18px,6px) rotate(-4deg); }
  70%  { transform: translate(12px,14px) rotate(-10deg); }
  85%  { transform: translate(20px,8px) rotate(-2deg); opacity: 1; }
  100% { transform: translate(8px,6px) rotate(-18deg); opacity: 0; }
}

/* Text */
.splash-logo {
  font-size: 2.1rem;
  letter-spacing: 1px;
  color: #384959;
  margin: 0;
}

.splash-tagline {
  margin: 0;
  font-size: 0.95rem;
  color: #6A89A7;
}

/* Small screens */
@media (max-width: 520px) {
  .ball { font-size: 50px; }
  .splash-logo { font-size: 1.8rem; }
}

/* Reduce motion preference */
@media (prefers-reduced-motion: reduce) {
  .ball,
  .ball-shadow,
  .note-wrapper,
  .note-line,
  .note-line.short,
  .pencil {
    animation: none !important;
  }
}

/* Background upgrade */
.splash-screen {
  position: fixed;
  inset: 0;
  /* Layered animated gradient */
  background:
    radial-gradient(circle at 55% 35%, rgba(255,255,255,0.85) 0%, rgba(255,255,255,0.55) 45%, rgba(240,246,252,0.4) 65%, rgba(225,235,245,0.25) 80%),
    linear-gradient(135deg,#1f3444,#2d4860,#4f6f89,#6A89A7,#89b6d1);
  background-size: 400% 400%, 100% 100%;
  animation: bgShift 12s ease-in-out infinite;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 18px;
  font-family: system-ui, sans-serif;
  z-index: 2000;
  overflow: hidden;
}

@keyframes bgShift {
  0%   { background-position: 0% 50%, center; }
  50%  { background-position: 100% 50%, center; }
  100% { background-position: 0% 50%, center; }
}

/* Wider stage to allow horizontal travel */
.splash-anim-wrapper {
  position: relative;
  width: 260px;
  height: 200px;
  display: flex;
  align-items: flex-end;
  justify-content: center;
}

/* Bigger ball with arc + vertical bounce */
.ball {
  font-size: 96px;
  line-height: 1;
  animation: bounceArc 1.6s cubic-bezier(.6,.05,.3,.9) infinite;
  filter: drop-shadow(0 10px 14px rgba(0,0,0,0.28));
  user-select: none;
  will-change: transform;
}

@keyframes bounceArc {
  0%   { transform: translate(0,0) scale(1); }
  12%  { transform: translate(40px,-130px) scale(.94); }
  24%  { transform: translate(80px,0) scale(1.03); }
  36%  { transform: translate(40px,-95px) scale(.97); }
  48%  { transform: translate(0,0) scale(1.02); }
  60%  { transform: translate(-40px,-80px) scale(.96); }
  72%  { transform: translate(-80px,0) scale(1.03); }
  84%  { transform: translate(-40px,-45px) scale(.98); }
  100% { transform: translate(0,0) scale(1); }
}

/* Shadow tracks horizontal drift + squash */
.ball-shadow {
  position: absolute;
  bottom: 12px;
  left: 50%;
  width: 140px;
  height: 28px;
  margin-left: -70px;
  background: radial-gradient(ellipse at center, rgba(0,0,0,.4), rgba(0,0,0,0) 65%);
  animation: shadowDrift 1.6s cubic-bezier(.6,.05,.3,.9) infinite;
  border-radius: 50%;
  filter: blur(2px);
  will-change: transform, opacity;
}

@keyframes shadowDrift {
  0%   { transform: translate(-0px,0) scale(1);     opacity:.55; }
  12%  { transform: translate(40px,0) scale(.65);   opacity:.35; }
  24%  { transform: translate(80px,0) scale(.95);   opacity:.5; }
  36%  { transform: translate(40px,0) scale(.7);    opacity:.38; }
  48%  { transform: translate(0,0) scale(.92);      opacity:.48; }
  60%  { transform: translate(-40px,0) scale(.7);   opacity:.40; }
  72%  { transform: translate(-80px,0) scale(.95);  opacity:.5; }
  84%  { transform: translate(-40px,0) scale(.78);  opacity:.44; }
  100% { transform: translate(0,0) scale(1);        opacity:.55; }
}

/* Adjust note wrapper so it doesnâ€™t collide with bigger ball */
.note-wrapper {
  position: absolute;
  top: 8px;
  right: 12px;
  width: 78px;
  height: 78px;
  animation: floatNote 3s ease-in-out infinite;
}

/* Slight polish to card + pencil sizing coherence */
.note-sheet {
  width: 54px;
  height: 62px;
}

.pencil {
  height: 56px;
  left: -6px;
}

/* Typography contrast on new background */
.splash-logo {
  color: #ffffff;
  text-shadow: 0 2px 6px rgba(0,0,0,0.25);
}

.splash-tagline {
  color: #d8e6f1;
  text-shadow: 0 1px 3px rgba(0,0,0,0.2);
}

/* Responsive tweak */
@media (max-width: 520px) {
  .ball { font-size: 82px; }
  .splash-anim-wrapper { width: 220px; height: 180px; }
}

/* ...existing code... */

/* Logo base */
.splash-logo {
  font-family: 'Poppins', sans-serif;
  font-size: clamp(2.8rem, 6vw, 4.5rem);
  font-weight: 600;
  letter-spacing: 0.04em;
  display: inline-block;
  background: linear-gradient(110deg,#6A89A7 0%, #2F4858 40%, #6A89A7 60%, #9fc4e2 100%);
  background-size: 250% 250%;
  -webkit-background-clip: text;
  color: transparent;
  animation: logoGradient 6s ease-in-out infinite, logoFloat 5s ease-in-out infinite;
  position: relative;
  filter: drop-shadow(0 4px 6px rgba(0,0,0,0.15));
  will-change: transform;
  margin-top: 1.25rem;
}

/* Per-letter animation */
.splash-logo span {
  display: inline-block;
  opacity: 0;
  transform: translateY(28px) scale(.85) rotate(-8deg);
  animation: letterIn .85s cubic-bezier(.65,.05,.36,1) forwards;
  animation-delay: calc(var(--i) * 70ms + 150ms);
  will-change: transform, opacity;
}

@keyframes letterIn {
  0% { opacity:0; transform: translateY(28px) scale(.85) rotate(-8deg); filter: blur(4px); }
  55% { opacity:1; transform: translateY(-6px) scale(1.04) rotate(2deg); filter: blur(0); }
  100% { opacity:1; transform: translateY(0) scale(1) rotate(0deg); }
}

@keyframes logoGradient {
  0%,100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

@keyframes logoFloat {
  0%,100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}

/* Tagline fragments */
.fancy-tagline {
  display: flex;
  flex-wrap: wrap;
  gap: 0.4ch;
  justify-content: center;
  margin-top: 0.75rem;
  font-family: 'Montserrat', sans-serif;
  font-size: clamp(0.9rem, 2vw, 1.2rem);
  font-weight: 500;
  letter-spacing: 0.02em;
  background: linear-gradient(90deg,#2F4858,#6A89A7);
  -webkit-background-clip: text;
  color: transparent;
  position: relative;
}

.tag-frag {
  opacity: 0;
  transform: translateY(12px) scale(.97);
  filter: blur(4px);
  animation: taglineIn .6s ease-out forwards;
  animation-delay: calc(var(--d) * 110ms + 400ms);
}

@keyframes taglineIn {
  to {
    opacity:1;
    transform: translateY(0) scale(1);
    filter: blur(0);
  }
}

/* Subtle pulse accent after all letters appear */
.splash-logo::after {
  content:"";
  position:absolute;
  inset:0;
  background: radial-gradient(circle at 50% 60%, rgba(255,255,255,0.25), transparent 60%);
  mix-blend-mode: overlay;
  opacity:0;
  animation: sheen 3.2s 1.6s ease-in-out infinite;
  pointer-events:none;
}

@keyframes sheen {
  0%,60%,100% { opacity:0; }
  20% { opacity:0.55; }
}

/* Optional variable font weight morph if supported */
@supports (font-variation-settings: "wght" 600) {
  .splash-logo {
    font-variation-settings: "wght" 450;
    animation: logoGradient 6s ease-in-out infinite,
               logoFloat 5s ease-in-out infinite,
               weightShift 5s ease-in-out infinite;
  }
  @keyframes weightShift {
    0%,100% { font-variation-settings: "wght" 450; }
    50% { font-variation-settings: "wght" 650; }
  }
}

/* Handle fade-out (assumes existing .fade-out) */
.splash-screen.fade-out .splash-logo span,
.splash-screen.fade-out .tag-frag {
  animation: fadeShrink 1s ease forwards;
  animation-delay: 1s;
}

@keyframes fadeShrink {
  to { opacity:0; transform: translateY(-12px) scale(.9); filter: blur(3px); }
}

/* Responsive tweaks */
@media (max-width: 480px) {
  .splash-logo {
    letter-spacing: 0.02em;
  }
  .fancy-tagline {
    gap: 0.25ch;
  }
}

/* ...existing code... */

/* ...existing code... */
/* Handle fade-out (keep text crisp) */
.splash-screen.fade-out .splash-logo span,
.splash-screen.fade-out .tag-frag {
  animation: none;
  opacity: 1;
  transform: none;
  filter: none;
}
/* ...existing code... */